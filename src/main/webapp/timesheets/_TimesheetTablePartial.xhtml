<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
		"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title></title>
</h:head>
<h:body>
	<ui:composition>
	    <f:event type="preRenderView"
        listener="#{timesheetController.refreshTimesheet}" />
		<h:form>
			<!-- timesheet summary -->
			<div class="row">
				<div class="col-md-4">
					<div class="panel panel-default">
						<div class="panel-heading"><b>#{msgs.tsSummary}</b></div>
						<div class="panel-body">
							<dl class="dl-horizontal">
								<dt>#{msgs.tsOwner}</dt>
								<dd>
									#{timesheetController.timesheet.owner.firstName}
									#{timesheetController.timesheet.owner.lastName}
								</dd>
								<dt>#{msgs.weekEnding}</dt>
								<dd>#{timesheetController.timesheet.weekEnding}</dd>

								<dt>#{msgs.weekNo}</dt>
								<dd>#{timesheetController.timesheet.weekNumber}</dd>

								<dt>#{msgs.totalHours}</dt>
								<dd>#{timesheetController.timesheet.total}</dd>

								<dt>#{msgs.tsFlextime}</dt>
								<dd>#{timesheetController.timesheet.flextime}</dd>

								<dt>#{msgs.overtime}</dt>
								<dd>#{timesheetController.timesheet.overtime}</dd>

								<dt>#{msgs.tsValid}</dt>
								<dd>#{editTimesheetController.verifyTimesheet()} </dd>

								<dt>#{msgs.status}</dt>
								<dd class="#{(timesheetController.timesheet.approved == 'Rejected') ? 'text-danger' : ''}">
									#{timesheetController.timesheet.approved}
								</dd>
							</dl>
						</div>
					</div>
				</div>
			</div>

			<!-- timesheet table -->
			<div class="row">
				<div id="timesheetTable">
					<p:dataTable var="row" value="#{timesheetController.timesheet.timesheetRows}">
						<p:column headerText="#{msgs.project}">
							#{row.workPackage.project.id}
						</p:column>
						<p:column headerText="#{msgs.workPackage}">
							#{row.workPackage.packageNum}
						</p:column>
						<p:column headerText="#{msgs.total}" styleClass="hour-col">
							#{row.totalHours}
						</p:column>
						<p:column headerText="#{msgs.sun}" styleClass="hour-col">
							#{row.sundayHour}
						</p:column>
						<p:column headerText="#{msgs.sat}" styleClass="hour-col">
							#{row.saturdayHour}
						</p:column>
						<p:column headerText="#{msgs.mon}" styleClass="hour-col">
							#{row.mondayHour}
						</p:column>
						<p:column headerText="#{msgs.tue}" styleClass="hour-col">
							#{row.tuesdayHour}
						</p:column>
						<p:column headerText="#{msgs.wed}" styleClass="hour-col">
							#{row.wednesdayHour}
						</p:column>
						<p:column headerText="#{msgs.thu}" styleClass="hour-col">
							#{row.thursdayHour}
						</p:column>
						<p:column headerText="#{msgs.fri}" styleClass="hour-col">
							#{row.fridayHour}
						</p:column>
						<p:column headerText="#{msgs.notes}">
							#{row.notes}
						</p:column>
					</p:dataTable>
				</div>
			</div>
		</h:form>
	</ui:composition>
</h:body>
<!-- end of body -->
</html>
